!function(){"use strict";const e=document.getElementById("darkModeToggle"),t=document.getElementById("darkModeToggleMobile"),o=document.documentElement,n=localStorage.getItem("theme")||"light";function a(){const e="light"===o.getAttribute("data-theme")?"dark":"light";o.setAttribute("data-theme",e),localStorage.setItem("theme",e),"undefined"!=typeof dataLayer&&dataLayer.push({event:"dark_mode_toggle",theme:e})}o.setAttribute("data-theme",n),e&&e.addEventListener("click",a),t&&t.addEventListener("click",a);const c=document.querySelector(".mobile-menu-toggle"),r=document.querySelector(".nav-menu"),i=document.body;if(c&&r){c.addEventListener("click",function(){const e="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!e),r.classList.toggle("active"),i.style.overflow=e?"auto":"hidden"});r.querySelectorAll("a").forEach(e=>{e.addEventListener("click",function(){r.classList.remove("active"),c.setAttribute("aria-expanded","false"),i.style.overflow="auto"})}),document.addEventListener("click",function(e){r.contains(e.target)||c.contains(e.target)||!r.classList.contains("active")||(r.classList.remove("active"),c.setAttribute("aria-expanded","false"),i.style.overflow="auto")})}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t||t.length<2)return void e.preventDefault();const o=document.querySelector(t);if(o){e.preventDefault();const n=document.querySelector(".header").offsetHeight,a=o.offsetTop-n-20;window.scrollTo({top:a,behavior:"smooth"}),history.pushState&&history.pushState(null,null,t)}})});const s=document.querySelector(".header");let d=0;window.addEventListener("scroll",function(){const e=window.pageYOffset||document.documentElement.scrollTop;s.style.boxShadow=e>50?"0 4px 12px rgba(0, 0, 0, 0.15)":"0 2px 8px rgba(0, 0, 0, 0.1)",d=e});const l=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("fade-in-up"),t.unobserve(e.target))})},{root:null,rootMargin:"0px",threshold:.1});document.querySelectorAll(".usp-card, .product-card, .product-banner, .challenges-column, .solutions-column").forEach(e=>{e.style.opacity="0",l.observe(e)});document.querySelectorAll(".btn-primary").forEach(e=>{e.addEventListener("click",function(){const e=this.textContent.trim(),t=this.closest("section")?.id||"unknown";"undefined"!=typeof dataLayer&&dataLayer.push({event:"cta_click",button_text:e,button_location:t})})});document.querySelectorAll(".product-banner").forEach(e=>{e.addEventListener("click",function(e){if("A"===e.target.tagName)return;const t=this.querySelector("h3, h4")?.textContent||"Unknown Product";"undefined"!=typeof dataLayer&&dataLayer.push({event:"product_banner_click",product_name:t})})});const u=document.querySelectorAll("img[data-src]");if(u.length>0){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target;o.src=o.dataset.src,o.removeAttribute("data-src"),t.unobserve(o)}})});u.forEach(t=>e.observe(t))}document.addEventListener("keydown",function(e){"Escape"===e.key&&r.classList.contains("active")&&(r.classList.remove("active"),c.setAttribute("aria-expanded","false"),i.style.overflow="auto",c.focus())}),window.addEventListener("load",function(){if("undefined"!=typeof dataLayer&&"performance"in window){const e=window.performance.timing,t=e.loadEventEnd-e.navigationStart;dataLayer.push({event:"page_load_complete",page_load_time:t})}}),window.location.hash&&setTimeout(function(){const e=document.querySelector(window.location.hash);if(e){const t=document.querySelector(".header").offsetHeight,o=e.offsetTop-t-20;window.scrollTo({top:o,behavior:"smooth"})}},100);const f=document.getElementById("backToTop");f&&(window.addEventListener("scroll",function(){window.pageYOffset>300?f.classList.add("visible"):f.classList.remove("visible")}),f.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}))}();